  :root { --page-bg:#720f0f; }
  *{box-sizing:border-box}

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:var(--page-bg);
    overflow:hidden;

    
    opacity: 0;
    animation: bodyFadeIn .7s ease forwards;
  }
  @keyframes bodyFadeIn { from { opacity:0 } to { opacity:1 } }

  .card{
    position:relative;
    width:min(92vw, 1000px);
    aspect-ratio: 16 / 9;
    background: transparent;

 
    transform: scale(.94);
    opacity: 0;
    animation: cardPop .6s cubic-bezier(.2,.8,.2,1) .15s forwards;
    z-index: 3; 
  }
  @keyframes cardPop { 0%{transform:scale(.94);opacity:0} 100%{transform:scale(1);opacity:1} }


  .poster{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit:contain;
    user-select:none; pointer-events:none;
    z-index: 4; 

    opacity:0;
    animation: posterFade .5s ease .22s forwards;
  }
  @keyframes posterFade { to { opacity:1 } }

 
  .cat{
    position:absolute;
    left:50%; top:36%;
    transform:translate(-50%, -50%);
    width:22%;
    object-fit:contain;
    pointer-events:none;
    z-index: 5; 

    opacity:0;
    animation: catDrop .7s cubic-bezier(.22,1,.36,1) .25s forwards;
  }
  @keyframes catDrop {
    0%   { transform: translate(-50%,-70%) scale(.98); opacity:0 }
    60%  { transform: translate(-50%,-50%) scale(1.02); opacity:1 }
    100% { transform: translate(-50%,-50%) scale(1) }
  }


  #confetti{
    position:fixed; inset:0;
    width:100vw; height:100vh;
    pointer-events:none;
    z-index: 10;
  }


  .flame{
    position:absolute;
    width:18px; height:26px;
    border-radius:50% 50% 50% 50% / 70% 70% 30% 30%;
    background: radial-gradient(50% 65% at 50% 60%, #fff 0 22%, #ffd166 22% 55%, #ff7b00 60%, #ff4d00 85%);
    filter: drop-shadow(0 0 10px rgba(255,170,0,.9)) drop-shadow(0 0 18px rgba(255,140,0,.75));
    transform:translate(-50%, -100%);
    transform-origin:50% 85%;
    cursor:pointer;
    z-index: 6; 
  }
  .flame.intro {
    opacity:0;
    animation: flameIntro .38s ease var(--delay, .34s) forwards;
  }
  @keyframes flameIntro {
    from { opacity:0; transform: translate(-50%, -85%) scale(.85) }
    to   { opacity:1; transform: translate(-50%, -100%) scale(1) }
  }

  .flame::after{
    content:"";
    position:absolute;
    inset:6px 6px 10px;
    background: radial-gradient(60% 60% at 50% 65%, rgba(255,255,255,.95), rgba(255,255,255,0));
    border-radius:inherit; opacity:.85;
  }

  @keyframes flicker {
    0%   { transform:translate(-50%,-100%) scale(1) rotate(-1deg); }
    50%  { transform:translate(calc(-50% + 1px),-100%) scale(1.07) rotate(1.5deg); }
    100% { transform:translate(calc(-50% - 1px),-100%) scale(0.94) rotate(-1deg); }
  }
  .flame.lit{ animation: flicker 120ms infinite alternate ease-in-out; }

  @keyframes extinguish {
    to { opacity:0; transform:translate(-50%,-120%) scale(0.2) rotate(-25deg); filter:none; }
  }
  .flame.out{ animation: extinguish .28s ease forwards; cursor:default; }

  .smoke{
    position:fixed;
    width:10px;height:10px;
    background: radial-gradient(closest-side, rgba(200,200,200,.9),
                                rgba(200,200,200,.2), transparent 70%);
    border-radius:50%;
    pointer-events:none;
    animation: puff 620ms ease-out forwards;
    filter: blur(0.4px);
    z-index: 9;
  }
  @keyframes puff{
    from{ opacity:.7; transform:translate(-50%, -50%) scale(1);}
    to{   opacity:0; transform:translate(-50%, -120%) scale(2.2);}
  }

  .top-banderitas {
    position: fixed; top: 0; left: 0;
    width: 100%; height: auto;
    z-index: 1;              
    pointer-events: none;    
    display: block;

    transform: translateY(-40%);
    opacity: 0;
    animation: bannerSlide .6s cubic-bezier(.2,.8,.2,1) .05s forwards;
  }
  @keyframes bannerSlide { to { transform: translateY(0); opacity: 1 } }


  .overlay {
    position: fixed; inset: 0;
    display: grid;
    grid-template-rows: 1fr;
    place-items: center;
    opacity: 0;
    pointer-events: none;
    z-index: 20; 
    transition: opacity .25s ease;
  }

 
  .overlay__backdrop {
    position: absolute; inset: 0;
    background: rgba(0,0,0,.28);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

 
  .overlay__content {
    position: relative;
    max-width: min(90vw, 720px);
    margin: 16px;
    padding: clamp(18px, 3.2vw, 28px);
    border-radius: 16px;
    color: #2b1a1a;
    background:
      radial-gradient(120% 140% at 50% 0%, rgba(255,255,255,.9), rgba(255,255,255,.82)),
      #fff;
    box-shadow:
      0 20px 40px rgba(0,0,0,.25),
      0 0 0 1px rgba(255,255,255,.2) inset;
    transform: translateY(8px) scale(.98);
    opacity: 0;
    transition: transform .28s cubic-bezier(.2,.8,.2,1), opacity .28s ease;
    outline: none;
  }


  .overlay__msg {
    font: 600 clamp(16px, 2.2vw, 22px) / 1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    text-align: center;
    white-space: pre-wrap;
  }

  .overlay__close {
    position: absolute; top: 8px; right: 8px;
    border: 0;
    border-radius: 10px;
    background: rgba(255, 2, 2, 0.358);
    color: #2b1a1a;
    font: 700 16px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    width: 36px; height: 36px;
    cursor: pointer;
    transition: background .2s ease, transform .2s ease;
  }
  .overlay__close:hover { background: rgba(0,0,0,.12); transform: scale(1.05); }


  .overlay.is-open { opacity: 1; pointer-events: auto; }
  .overlay.is-open .overlay__content { opacity: 1; transform: translateY(0) scale(1); }

  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important }
    body, .card, .poster, .cat, .flame, .top-banderitas { opacity: 1 !important; transform: none !important }
    .overlay, .overlay__content { transition: none !important; }
  }
